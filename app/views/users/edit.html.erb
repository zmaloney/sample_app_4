<% provide(:title, 'Edit user') %>
<h1>Update your profile</h1>
<div class="row">
	<div class="span6 offset3">
		<!-- The important thing in the following structure is that it generates a form with 
		action="/users" and method="post", which we can see by running Firebug against the rendered form. -->
		
		<!-- NB that form_for automatically fills in the form with the attributes of the object, 
		so we'll retain the attributes of a failed submission. -->
		<%= form_for(@user) do |f| %>
		
			<!-- failed submit? Render a partial that shows error messages -->
			<%= render 'shared/error_messages' %>
		
			<%= f.label :name %>
			<%= f.text_field :name %>
			
			<%= f.label :email %>
			<%= f.text_field :email %>
			
			<%= f.label :password %>
			<%= f.password_field :password %>
			
			<%= f.label :password_confirmation, "Confirm password" %>
			<%= f.password_field :password_confirmation %>
			
			<%= f.submit "Save changes", class: "btn btn-large btn-primary" %>
		<% end %>
		
		<%= gravatar_for @user %>
		<a href="http://gravatar.com/emails">change</a>
	</div>
</div>
